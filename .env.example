# -------------------------------------
# VARIAVÉIS DE AMBIENTE PARA O SYNCFLOW
# -------------------------------------
# Copie este arquivo para .env e preencha com os dados corretos.

# --- Banco de Dados (PostgreSQL) ---
# Formato: postgresql://[user]:[password]@[host]:[port]/[database]
DATABASE_URL="postgresql://docker:docker@localhost:5432/syncflow?schema=public"

# --- Message Broker (RabbitMQ) ---
RABBITMQ_URL="amqp://user:password@localhost:5672"
# Nome da fila para onde os eventos de upload são enviados
RABBITMQ_UPLOAD_QUEUE="file.uploaded"
# Nome da fila onde os eventos de sucesso de processamento são enviados
RABBITMQ_PROCESSED_QUEUE="file.processed"

# --- Cache e Locks (Redis) ---
# Formato: redis://:[password]@[host]:[port]/[db]
REDIS_URL="redis://localhost:6379"

# --- Storage (MinIO - Compatível com S3) ---
STORAGE_ENDPOINT="http://localhost:9000"
STORAGE_BUCKET_NAME="syncflow-bucket"
STORAGE_ACCESS_KEY="minioadmin"
STORAGE_SECRET_KEY="minioadmin"
# Forçar o estilo de caminho (necessário para o MinIO)
STORAGE_FORCE_PATH_STYLE=true
# URLs pré-assinadas expiram em segundos (ex: 300s = 5 minutos)
PRESIGNED_URL_EXPIRES_IN=300

# --- Workers de Processamento ---
# Número de arquivos que um worker pode processar em paralelo.
WORKER_CONCURRENCY=5

# --- Observabilidade (OTLP/Jaeger) ---
# URL para onde os traces do OpenTelemetry serão enviados.
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4318/v1/traces"
OTEL_SERVICE_NAME="syncflow" # Nome geral do serviço para tracing

# --- API ---
PORT=3000